<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <title>Minecraft Chat Vorschau</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: #1e1e1e;
      color: #fff;
      padding: 30px;
    }
    h1 {
      color: #00ff99;
    }
    .container {
      max-width: 600px;
      margin: auto;
    }
    .color-grid {
      display: grid;
      grid-template-columns: repeat(10, 1fr);
      gap: 5px;
      margin-bottom: 20px;
    }
    .color-btn {
      padding: 8px;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      font-weight: bold;
      color: #000;
    }
    input[type="text"] {
      width: 100%;
      padding: 10px;
      font-size: 16px;
      border-radius: 4px;
      border: none;
      margin-bottom: 10px;
    }
    .preview {
      padding: 12px;
      background: #2e2e2e;
      border-radius: 4px;
      white-space: pre-wrap;
      font-family: 'Courier New', monospace;
    }
    .warning {
      color: red;
      font-weight: bold;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Minecraft Chat Vorschau</h1>
    <div class="color-grid" id="colorGrid"></div>
    <input type="text" id="chatInput" placeholder="Gib deinen Minecraft-Text ein…">
    <div class="warning" id="warning"></div>
    <div class="preview" id="chatPreview"></div>
  </div>

  <script>
    const colors = {
      '§0': '#000000', '§1': '#0000AA', '§2': '#00AA00', '§3': '#00AAAA',
      '§4': '#AA0000', '§5': '#AA00AA', '§6': '#FFAA00', '§7': '#AAAAAA',
      '§8': '#555555', '§9': '#5555FF', '§a': '#55FF55', '§b': '#55FFFF',
      '§c': '#FF5555', '§d': '#FF55FF', '§e': '#FFFF55', '§f': '#FFFFFF'
    };

    const input = document.getElementById('chatInput');
    const preview = document.getElementById('chatPreview');
    const warning = document.getElementById('warning');
    const grid = document.getElementById('colorGrid');

    Object.entries(colors).forEach(([code, color]) => {
      const btn = document.createElement('button');
      btn.textContent = code;
      btn.className = 'color-btn';
      btn.style.backgroundColor = color;
      btn.onclick = () => {
        input.value += code;
        updatePreview();
      };
      grid.appendChild(btn);
    });

    input.addEventListener('input', updatePreview);

    function updatePreview() {
      const text = input.value;
      if (text.length > 100) {
        warning.textContent = 'Chat geht nicht größer';
      } else {
        warning.textContent = '';
      }

      // Minecraft-Farbcode simulieren
      let html = '';
      let currentColor = '#FFFFFF';
      for (let i = 0; i < text.length; i++) {
        if (text[i] === '§' && i + 1 < text.length) {
          const code = '§' + text[i + 1];
          if (colors[code]) {
            currentColor = colors[code];
          }
          i++; // Skip next character
        } else {
          html += `<span style="color:${currentColor}">${text[i]}</span>`;
        }
      }
      preview.innerHTML = html;
    }

    updatePreview();
  </script>
</body>
</html>
